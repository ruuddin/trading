spring.datasource.url=jdbc:mariadb://localhost:3306/tradingdb
spring.datasource.username=root
spring.datasource.password=password
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver

# Connection pool settings for performance
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.auto-commit=false

# JPA / Hibernate optimization
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.batch_size=10
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.generate_statistics=false

server.port=8080
server.servlet.context-path=/
server.compression.enabled=true
server.compression.min-response-size=1024

# Logging - reduce noise in production
logging.level.root=WARN
logging.level.com.example.trading=INFO
logging.level.org.springframework.security=WARN
logging.level.org.springframework.web=WARN

# JWT Configuration
jwt.secret=replace-with-a-very-long-secret-key-change-me
jwt.expiration.ms=3600000

# Stock API - Alpha Vantage (get free key at https://www.alphavantage.co/api/)
# Free tier: 25 requests per day
stock.api.key=demo

# Stock API - Finnhub (get free key at https://finnhub.io/)
# Free tier: 60 calls/minute, 500/day
finnhub.api.key=

# Stock API - Twelve Data (get free key at https://twelvedata.com/)
# Free tier: 800 calls/day
twelvedata.api.key=

# Stock API - Massive (high volume provider)
# Free tier: 1000 calls/day (assumed, verify with provider)
massive.api.key=

# Cache configuration
spring.cache.type=simple

# Multi-provider fallback strategy:
# 1. In-Memory Cache (5 min) - Fastest
# 2. Database Cache (60 min) - Persistent
# 3. Alpha Vantage (25/day)
# 4. Finnhub (500/day)
# 5. Twelve Data (800/day)
# 6. Massive (1000/day)
# 7. Mock Data (unlimited fallback)
